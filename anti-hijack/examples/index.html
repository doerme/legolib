<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="format-detection" content="telephone=no,address=no,email=no">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title> lego-antiHijack </title>

    <style>
        body{
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            margin-right: 30px;
            margin-bottom: 10px;
            border: 0 none;
            background-color: #76D5FF;
            color: #fff;
        }
        #content {
            height: 200px;
            margin-top: 20px;
            border: 1px solid #aaa;
        }
        iframe {
            width: 100%;
            height: 100%;
        }
    </style>

    <!-- <script src="http://assets.dwstatic.com/base/log/log.js" charset="utf-8"></script> -->

</head>
<body ontouchstart="">

    <div id="app">
        <button id="btn1">插入document write</button>
        <button id="btn2">插入可疑iframe</button>
        <button id="btn3">插入安全iframe</button>
        <button id="btn4">插入可疑img</button>
        <button id="btn5">插入安全img</button>
        <button id="btn6">插入a链接</button>
        <div id="content"></div>
    </div>


    <!-- <iframe src="http://www.huya.com/" id="frame" srcdoc="aaaaa" frameborder="0"></iframe> -->
    <script>

    </script>
    <!-- <script src="https://s1.yy.com/ued_web_static/lib/error-report/index.min.js"></script> -->
    <script src="./assets/index.min.js" charset="utf-8"></script>
    <!-- <script src="./js/index.js" charset="utf-8"></script> -->

    <script>
        var el = document.createElement('script');
            // el.src = 'http://www.etherdream.com/xss/out.js';
            el.setAttribute('src', 'http://www.etherdream.com/xss/out.js');
            document.body.appendChild(el);
    </script>

    <script>
        var jjj = new LegoAntiHijack({
            whiteList: ['yy.com'],
            blackList: ['51.la','61.160.200.252',]
            // reportUrl: 'http://s1.yy.com/ued_web_static/common/img/blank.png'
        });

        console.log(jjj);

        document.querySelector('#btn1').addEventListener('click', function(){
            // document.write('<script src="http://s1.yy.com/ued_web_static/project/yy8/hot/1.0.4/assets/h5player-hls.min.js"><\/script>');
            var el = document.createElement('script');
            el.src = 'http://www.etherdream.com/xss/out.js';
            // el.setAttribute('src', 'http://www.etherdream.com/xss/out.js');
            document.body.appendChild(el);
        }, false);

        document.querySelector('#btn2').addEventListener('click', function(){
            // document.querySelector('#content').innerHTML = 'kkkk';
            document.querySelector('#content').innerHTML = '<iframe src="http://www.douban.com/?abc=324" id="frame1" frameborder="0"></iframe>';
        }, false);

        document.querySelector('#btn3').addEventListener('click', function(){
            document.querySelector('#content').innerHTML = '<iframe src="http://www.duowan.com/?abc=324" id="frame2" frameborder="0"></iframe>';
        }, false);

        document.querySelector('#btn4').addEventListener('click', function(){
            document.querySelector('#content').innerHTML = '<img src="http://img.dwstatic.com/www/1608/334256995145/1470301798117.jpg" onerror="alert(0)" alt="ddd">';
        }, false);

        document.querySelector('#btn5').addEventListener('click', function(){
            document.querySelector('#content').innerHTML = '<img src="http://img.dwstatic.com/www/1608/334256995145/1470301798117.jpg" alt="ddd">';
        }, false);

        document.querySelector('#btn6').addEventListener('click', function(){
            document.querySelector('#content').innerHTML = '<a href="http://www.yy.com">YY</a>';
        }, false);


        document.writeln('435');
    </script>


<img src="http://icon.51.la/icon_0.gif" alt="">
<!-- <iframe src="http://www.douban.com/" id="frame4444" frameborder="0"></iframe> -->
<img src="http://img.dwstatic.com/www/1608/334256995145/1470301798117.jpg" onerror="location.href='http://baidu.com'" alt="ddd">
<script src="http://s1.yy.com/ued_web_static/project/yy8/hot/1.0.4/assets/h5player-hls.min.js"></script>


</body>
</html>

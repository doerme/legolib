/*!
 * @project : lego-wechatShare
 * @version : 0.0.1
 * @author  : UED.David
 * @update  : 2017-12-02 9:28:13 pm
 */!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.LegoWechatShare=n():e.LegoWechatShare=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){function o(e){return e&&e.__esModule?e:{"default":e}}var r=t(1),c=o(r),i=t(2),a=o(i),u=t(21),f=o(u);e.exports=function(){function e(n){(0,c["default"])(this,e);var t=window.location.href,o=encodeURIComponent(t.split("#")[0]),r={yy:"//wap.yy.com/mobileweb/share/weixinSign2?url="+o,bi:"//wp.zbisq.com/index.php?r=Jssdk/getSignPackage&url="+o},i={title:"微信分享标题",desc:"微信分享描述",link:t,img:"//s1.yy.com/ued_web_static/common/img/blank.png",signatureUrl:r.yy,successCallback:function(){},cancelCallback:function(){},debug:!1};switch(this.config=f["default"].extend(!0,i,n),this.config.type){case"bi":this.config.signatureUrl=r.bi;break;case"yy":this.config.signatureUrl=r.yy}this.init()}return(0,a["default"])(e,[{key:"init",value:function(){var e=this,n="//res.wx.qq.com/open/js/jweixin-1.2.1.js";f["default"].importScript(n,function(){e.register()})}},{key:"register",value:function(){var e=this;window.wechatsharecallback=function(n){var t="bi"===e.config.type?n.wxapi:n.data;wx.config({debug:e.config.debug,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","chooseWXPay","onMenuShareWeibo","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice"]}),wx.ready(function(){var n=e.config.title,t=e.config.desc,o=e.config.link,r=e.config.img;wx.onMenuShareTimeline({title:n,link:o,imgUrl:r,success:function(){e.config.successCallback()},cancel:function(){e.config.cancelCallback()}}),wx.onMenuShareAppMessage({title:n,desc:t,link:o,imgUrl:r,type:"",dataUrl:"",success:function(){e.config.successCallback()},cancel:function(){e.config.cancelCallback()}}),wx.onMenuShareQQ({title:n,desc:t,link:o,imgUrl:r,success:function(){e.config.successCallback()},cancel:function(){e.config.cancelCallback()}}),wx.onMenuShareWeibo({title:n,desc:t,link:o,imgUrl:r,success:function(){e.config.successCallback()},cancel:function(){e.config.cancelCallback()}})})};var n=this.config.signatureUrl,t=n.indexOf("?")<0?n+"?callback=wechatsharecallback":n+"&callback=wechatsharecallback";f["default"].importScript(t)}}]),e}()},function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var r=t(3),c=o(r);n["default"]=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,c["default"])(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}()},function(e,n,t){e.exports={"default":t(4),__esModule:!0}},function(e,n,t){t(5);var o=t(8).Object;e.exports=function(e,n,t){return o.defineProperty(e,n,t)}},function(e,n,t){var o=t(6);o(o.S+o.F*!t(16),"Object",{defineProperty:t(12).f})},function(e,n,t){var o=t(7),r=t(8),c=t(9),i=t(11),a="prototype",u=function(e,n,t){var f,l,s,p=e&u.F,d=e&u.G,y=e&u.S,g=e&u.P,h=e&u.B,b=e&u.W,m=d?r:r[n]||(r[n]={}),v=m[a],w=d?o:y?o[n]:(o[n]||{})[a];d&&(t=n);for(f in t)l=!p&&w&&void 0!==w[f],l&&f in m||(s=l?w[f]:t[f],m[f]=d&&"function"!=typeof w[f]?t[f]:h&&l?c(s,o):b&&w[f]==s?function(e){var n=function(n,t,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,o)}return e.apply(this,arguments)};return n[a]=e[a],n}(s):g&&"function"==typeof s?c(Function.call,s):s,g&&((m.virtual||(m.virtual={}))[f]=s,e&u.R&&v&&!v[f]&&i(v,f,s)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,n,t){var o=t(10);e.exports=function(e,n,t){if(o(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,o){return e.call(n,t,o)};case 3:return function(t,o,r){return e.call(n,t,o,r)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n,t){var o=t(12),r=t(20);e.exports=t(16)?function(e,n,t){return o.f(e,n,r(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var o=t(13),r=t(15),c=t(19),i=Object.defineProperty;n.f=t(16)?Object.defineProperty:function(e,n,t){if(o(e),n=c(n,!0),o(t),r)try{return i(e,n,t)}catch(a){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var o=t(14);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(16)&&!t(17)(function(){return 7!=Object.defineProperty(t(18)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=!t(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},function(e,n,t){var o=t(14),r=t(7).document,c=o(r)&&o(r.createElement);e.exports=function(e){return c?r.createElement(e):{}}},function(e,n,t){var o=t(14);e.exports=function(e,n){if(!o(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!o(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!o(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t={extend:function(e,n,t){for(name in t)copy=t[name],e&&copy instanceof Array?n[name]=(void 0).extend(e,[],copy):e&&copy instanceof Object?n[name]=(void 0).extend(e,{},copy):n[name]=t[name];return n},importScript:function(e,n){var t=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");o.type="text/javascript",o.async=!0,o.charset="utf-8",o.src=e,o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(n&&n(),o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o))},o.onerror=function(){alert("脚本加载失败，请重试！")},t.insertBefore(o,null)}};n["default"]=t}])});